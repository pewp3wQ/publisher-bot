2024-04-06 01:56:52,184 - INFO - Start polling
2024-04-06 01:56:52,836 - INFO - Run polling for bot @peker_developer_bot id=7150699664 - 'developer test bot'
2024-04-06 01:56:56,239 - INFO - Update id=49930962 is handled. Duration 609 ms by bot id=7150699664
2024-04-06 01:56:57,842 - INFO - Update id=49930963 is handled. Duration 375 ms by bot id=7150699664
2024-04-06 01:56:58,914 - INFO - Update id=49930964 is handled. Duration 360 ms by bot id=7150699664
2024-04-06 01:57:00,138 - INFO - Update id=49930965 is handled. Duration 390 ms by bot id=7150699664
2024-04-06 01:57:00,768 - ERROR - Cannot get window data for state <State 'HabrSG:third'>
2024-04-06 01:57:00,768 - INFO - Update id=49930966 is not handled. Duration 0 ms by bot id=7150699664
2024-04-06 01:57:00,768 - ERROR - Cause exception while process update id=49930966 by bot id=7150699664
AttributeError: module 'redis.redis_process' has no attribute 'set_data'
Traceback (most recent call last):
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\igore\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 222, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\fsm\storage\memory.py", line 56, in lock
    yield
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram_dialog\manager\manager_middleware.py", line 77, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram_dialog\context\intent_middleware.py", line 186, in process_callback_query
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram_dialog\manager\manager_middleware.py", line 77, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 156, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 128, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 123, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 148, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram_dialog\manager\manager_middleware.py", line 52, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram_dialog\context\intent_middleware.py", line 198, in context_saver_middleware
    result = await handler(event, data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram_dialog\dialog.py", line 148, in _callback_handler
    await dialog_manager.show()
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram_dialog\manager\manager.py", line 305, in show
    new_message = await self.dialog().render(self)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram_dialog\dialog.py", line 123, in render
    new_message = await window.render(self, manager)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram_dialog\window.py", line 109, in render
    current_data = await self.load_data(dialog, manager)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram_dialog\window.py", line 85, in load_data
    data.update(await self.getter(**manager.middleware_data))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher_bot\venv\Lib\site-packages\aiogram_dialog\widgets\data\data_context.py", line 37, in __call__
    return await self.normal_getter(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\new-folder\publisher-bot\handlers\habr_publisher.py", line 102, in hub_selected
    await redis_process.set_data(event_from_user.id, hub_dict)
          ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.redis_process' has no attribute 'set_data'
2024-04-06 01:57:00,771 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-25' coro=<check_new_news() done, defined at D:\new-folder\publisher-bot\handlers\habr_publisher.py:18> exception=AttributeError("module 'redis.redis_process' has no attribute 'get_data'")>
Traceback (most recent call last):
  File "D:\new-folder\publisher-bot\handlers\habr_publisher.py", line 19, in check_new_news
    user_data = await redis_process.get_data(event_from_user.id)
                      ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.redis_process' has no attribute 'get_data'
2024-04-06 01:58:46,181 - INFO - Polling stopped
2024-04-06 01:58:46,445 - INFO - Polling stopped for bot @peker_developer_bot id=7150699664 - 'developer test bot'
2024-04-06 01:58:48,641 - INFO - Start polling
2024-04-06 01:58:49,142 - INFO - Run polling for bot @peker_developer_bot id=7150699664 - 'developer test bot'
2024-04-06 01:58:51,589 - INFO - Update id=49930967 is handled. Duration 578 ms by bot id=7150699664
2024-04-06 01:58:53,035 - INFO - Update id=49930968 is handled. Duration 391 ms by bot id=7150699664
2024-04-06 01:58:53,921 - INFO - Update id=49930969 is handled. Duration 391 ms by bot id=7150699664
2024-04-06 01:58:55,221 - INFO - Update id=49930970 is handled. Duration 531 ms by bot id=7150699664
2024-04-06 01:58:56,108 - INFO - Update id=49930971 is handled. Duration 422 ms by bot id=7150699664
2024-04-06 02:03:08,741 - INFO - Polling stopped
2024-04-06 02:03:09,002 - INFO - Polling stopped for bot @peker_developer_bot id=7150699664 - 'developer test bot'
